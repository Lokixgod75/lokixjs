const Jsl_0x20f851=Jsl_0x3b9c;(function(_0x19f9b2,_0xa22d71){const _0x3056d0=Jsl_0x3b9c,_0x2b6e75=_0x19f9b2();while(!![]){try{const _0x4f888d=-parseInt(_0x3056d0(0x224))/0x1*(parseInt(_0x3056d0(0x210))/0x2)+parseInt(_0x3056d0(0x208))/0x3+parseInt(_0x3056d0(0x218))/0x4*(-parseInt(_0x3056d0(0x220))/0x5)+-parseInt(_0x3056d0(0x21f))/0x6*(parseInt(_0x3056d0(0x213))/0x7)+-parseInt(_0x3056d0(0x212))/0x8+parseInt(_0x3056d0(0x216))/0x9*(parseInt(_0x3056d0(0x202))/0xa)+parseInt(_0x3056d0(0x20d))/0xb;if(_0x4f888d===_0xa22d71)break;else _0x2b6e75['push'](_0x2b6e75['shift']());}catch(_0x29a522){_0x2b6e75['push'](_0x2b6e75['shift']());}}}(Jsl_0x148e,0x7ece8));const fs=require('fs'),path=require(Jsl_0x20f851(0x20e)),FormData=require(Jsl_0x20f851(0x203)),{spawn}=require('child_process'),{default:fetch}=require(Jsl_0x20f851(0x1fd));function Jsl_0x3b9c(_0x17d41a,_0x27cbd9){const _0x148e33=Jsl_0x148e();return Jsl_0x3b9c=function(_0x3b9c8d,_0x30beb1){_0x3b9c8d=_0x3b9c8d-0x1f1;let _0x3e2189=_0x148e33[_0x3b9c8d];return _0x3e2189;},Jsl_0x3b9c(_0x17d41a,_0x27cbd9);}let {JSDOM}=require('jsdom');function ffmpeg(_0x97a07d,_0xdc1d5f=[],_0x164ffb='',_0x45e72d=''){return new Promise(async(_0x1c8f75,_0x5c1b8f)=>{const _0x2adcb0=Jsl_0x3b9c;try{let _0x528874=path[_0x2adcb0(0x1f3)](__dirname,_0x2adcb0(0x1fa),+new Date()+'.'+_0x164ffb),_0xaae153=_0x528874+'.'+_0x45e72d;await fs['promises'][_0x2adcb0(0x221)](_0x528874,_0x97a07d),spawn(_0x2adcb0(0x225),['-y','-i',_0x528874,..._0xdc1d5f,_0xaae153])['on'](_0x2adcb0(0x21c),_0x5c1b8f)['on'](_0x2adcb0(0x217),async _0x2d9acb=>{const _0x37b26f=_0x2adcb0;try{await fs[_0x37b26f(0x1f4)][_0x37b26f(0x222)](_0x528874);if(_0x2d9acb!==0x0)return _0x5c1b8f(_0x2d9acb);_0x1c8f75(await fs[_0x37b26f(0x1f4)]['readFile'](_0xaae153)),await fs['promises']['unlink'](_0xaae153);}catch(_0x48d223){_0x5c1b8f(_0x48d223);}});}catch(_0x3e38c6){_0x5c1b8f(_0x3e38c6);}});}function toAudio(_0xe5290c,_0x455e55){const _0x3d010f=Jsl_0x20f851;return ffmpeg(_0xe5290c,[_0x3d010f(0x205),'-ac','2',_0x3d010f(0x1f6),_0x3d010f(0x1ff),_0x3d010f(0x20b),_0x3d010f(0x21b),'-f',_0x3d010f(0x223)],_0x455e55,'mp3');}function Jsl_0x148e(){const _0x5e1995=['987349DeILsc','ffmpeg','form\x20input[name]','name','new-image','libx264','toString','mp4','join','promises','window','-b:a','image.webp','querySelectorAll','string','../temp','-c:a','file','node-fetch','-compression_level','128k','opus','append','692850nEcAHa','form-data','https://s6.ezgif.com/webp-to-png','-vn','querySelector','-crf','2506053WHQsHV','-preset','div#output\x20>\x20p.outfile\x20>\x20video\x20>\x20source','-ar','exports','25461568ZMGCrz','path','https://ezgif.com/webp-to-mp4','2dXfBMp','text','5246920neTgRD','273xjVnOT','https://ezgif.com/webp-to-mp4/','aac','36SlyRTa','close','6640sWtsGN','value','-vbr','44100','error','POST','src','46170xCIeZA','2905swtxvw','writeFile','unlink','mp3'];Jsl_0x148e=function(){return _0x5e1995;};return Jsl_0x148e();}function toPTT(_0x5f53dc,_0x43b93e){const _0x3bc587=Jsl_0x20f851;return ffmpeg(_0x5f53dc,[_0x3bc587(0x205),'-c:a','libopus',_0x3bc587(0x1f6),'128k',_0x3bc587(0x21a),'on',_0x3bc587(0x1fe),'10'],_0x43b93e,_0x3bc587(0x200));}function toVideo(_0x15d9d1,_0x34f916){const _0xc2ef34=Jsl_0x20f851;return ffmpeg(_0x15d9d1,['-c:v',_0xc2ef34(0x229),_0xc2ef34(0x1fb),_0xc2ef34(0x215),'-ab','128k',_0xc2ef34(0x20b),_0xc2ef34(0x21b),_0xc2ef34(0x207),'32',_0xc2ef34(0x209),'slow'],_0x34f916,_0xc2ef34(0x1f2));}module[Jsl_0x20f851(0x20c)]={'webp2mp4':async _0x287f59=>{const _0xb34918=Jsl_0x20f851;let _0x53ae2f=new FormData(),_0x90e57a=typeof _0x287f59===_0xb34918(0x1f9)&&/https?:\/\//['test'](_0x287f59);_0x53ae2f[_0xb34918(0x201)]('new-image-url',_0x90e57a?_0x287f59:''),_0x53ae2f[_0xb34918(0x201)]('new-image',_0x90e57a?'':_0x287f59,'image.webp');let _0x46405a=await fetch(_0xb34918(0x20f),{'method':'POST','body':_0x53ae2f}),_0x24f33f=await _0x46405a['text'](),{document:_0x308002}=new JSDOM(_0x24f33f)[_0xb34918(0x1f5)],_0x379ad1=new FormData(),_0x42f201={};for(let _0x47e83b of _0x308002[_0xb34918(0x1f8)](_0xb34918(0x226))){_0x42f201[_0x47e83b['name']]=_0x47e83b['value'],_0x379ad1[_0xb34918(0x201)](_0x47e83b[_0xb34918(0x227)],_0x47e83b['value']);}let _0x2c6701=await fetch(_0xb34918(0x214)+_0x42f201[_0xb34918(0x1fc)],{'method':_0xb34918(0x21d),'body':_0x379ad1}),_0x2b394a=await _0x2c6701['text'](),{document:_0x1952e8}=new JSDOM(_0x2b394a)[_0xb34918(0x1f5)];return new URL(_0x1952e8[_0xb34918(0x206)](_0xb34918(0x20a))['src'],_0x2c6701['url'])['toString']();},'webp2png':async _0x5c5c90=>{const _0x2dd881=Jsl_0x20f851;let _0x18cc36=new FormData(),_0x29c8bc=typeof _0x5c5c90==='string'&&/https?:\/\//['test'](_0x5c5c90);_0x18cc36['append']('new-image-url',_0x29c8bc?_0x5c5c90:''),_0x18cc36[_0x2dd881(0x201)](_0x2dd881(0x228),_0x29c8bc?'':_0x5c5c90,_0x2dd881(0x1f7));let _0x192ce3=await fetch(_0x2dd881(0x204),{'method':_0x2dd881(0x21d),'body':_0x18cc36}),_0x4dd54a=await _0x192ce3[_0x2dd881(0x211)](),{document:_0x19538a}=new JSDOM(_0x4dd54a)['window'],_0x2551a3=new FormData(),_0x4c5b1d={};for(let _0x3ba4b3 of _0x19538a[_0x2dd881(0x1f8)](_0x2dd881(0x226))){_0x4c5b1d[_0x3ba4b3[_0x2dd881(0x227)]]=_0x3ba4b3[_0x2dd881(0x219)],_0x2551a3['append'](_0x3ba4b3['name'],_0x3ba4b3[_0x2dd881(0x219)]);}let _0x39cd7f=await fetch('https://ezgif.com/webp-to-png/'+_0x4c5b1d['file'],{'method':_0x2dd881(0x21d),'body':_0x2551a3}),_0x3f8220=await _0x39cd7f[_0x2dd881(0x211)]();console['log'](_0x3f8220);let {document:_0x49dede}=new JSDOM(_0x3f8220)[_0x2dd881(0x1f5)];return new URL(_0x49dede['querySelector']('div#output\x20>\x20p.outfile\x20>\x20img')[_0x2dd881(0x21e)],_0x39cd7f['url'])[_0x2dd881(0x1f1)]();},'toAudio':toAudio,'toPTT':toPTT,'toVideo':toVideo,'ffmpeg':ffmpeg};
