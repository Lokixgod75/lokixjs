const _0x18a65e=_0x5722;(function(_0x1fbe23,_0x3cf2d4){const _0x3e0ffe=_0x5722,_0x450283=_0x1fbe23();while(!![]){try{const _0xabb524=-parseInt(_0x3e0ffe(0x1db))/0x1+-parseInt(_0x3e0ffe(0x1e6))/0x2+parseInt(_0x3e0ffe(0x1d1))/0x3*(-parseInt(_0x3e0ffe(0x1dd))/0x4)+parseInt(_0x3e0ffe(0x1c6))/0x5*(-parseInt(_0x3e0ffe(0x1be))/0x6)+-parseInt(_0x3e0ffe(0x1c8))/0x7*(parseInt(_0x3e0ffe(0x1c5))/0x8)+parseInt(_0x3e0ffe(0x1e2))/0x9*(-parseInt(_0x3e0ffe(0x1ca))/0xa)+parseInt(_0x3e0ffe(0x1c1))/0xb*(parseInt(_0x3e0ffe(0x1bf))/0xc);if(_0xabb524===_0x3cf2d4)break;else _0x450283['push'](_0x450283['shift']());}catch(_0x59ce64){_0x450283['push'](_0x450283['shift']());}}}(_0x574f,0x6ceb0));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x18a65e(0x1e0)),ff=require(_0x18a65e(0x1d8)),webp=require('node-webpmux'),path=require('path');async function imageToWebp(_0x163ff1){const _0x10280f=_0x18a65e,_0xf0d2fa=path[_0x10280f(0x1c4)](tmpdir(),Crypto[_0x10280f(0x1ed)](0x6)[_0x10280f(0x1cf)](0x0,0x6)[_0x10280f(0x1e1)](0x24)+_0x10280f(0x1cc)),_0x29eaea=path[_0x10280f(0x1c4)](tmpdir(),Crypto[_0x10280f(0x1ed)](0x6)[_0x10280f(0x1cf)](0x0,0x6)[_0x10280f(0x1e1)](0x24)+_0x10280f(0x1c7));fs[_0x10280f(0x1d6)](_0x29eaea,_0x163ff1),await new Promise((_0x41c056,_0x738735)=>{const _0xe77721=_0x10280f;ff(_0x29eaea)['on']('error',_0x738735)['on']('end',()=>_0x41c056(!![]))[_0xe77721(0x1ee)](['-vcodec',_0xe77721(0x1e5),_0xe77721(0x1c0),_0xe77721(0x1d0)])['toFormat']('webp')[_0xe77721(0x1eb)](_0xf0d2fa);});const _0x4dbda0=fs[_0x10280f(0x1ea)](_0xf0d2fa);return fs[_0x10280f(0x1cd)](_0xf0d2fa),fs[_0x10280f(0x1cd)](_0x29eaea),_0x4dbda0;}async function videoToWebp(_0x39b616){const _0x293f17=_0x18a65e,_0x581b9e=path[_0x293f17(0x1c4)](tmpdir(),Crypto[_0x293f17(0x1ed)](0x6)[_0x293f17(0x1cf)](0x0,0x6)[_0x293f17(0x1e1)](0x24)+_0x293f17(0x1cc)),_0x244078=path[_0x293f17(0x1c4)](tmpdir(),Crypto[_0x293f17(0x1ed)](0x6)[_0x293f17(0x1cf)](0x0,0x6)[_0x293f17(0x1e1)](0x24)+_0x293f17(0x1c3));fs[_0x293f17(0x1d6)](_0x244078,_0x39b616),await new Promise((_0x4ac78c,_0x39ce31)=>{const _0x4cc158=_0x293f17;ff(_0x244078)['on']('error',_0x39ce31)['on']('end',()=>_0x4ac78c(!![]))[_0x4cc158(0x1ee)]([_0x4cc158(0x1cb),'libwebp',_0x4cc158(0x1c0),_0x4cc158(0x1d0),_0x4cc158(0x1ce),'0',_0x4cc158(0x1de),_0x4cc158(0x1c2),'-t','00:00:05',_0x4cc158(0x1d5),_0x4cc158(0x1bd),_0x4cc158(0x1ec),'-vsync','0'])[_0x4cc158(0x1c9)]('webp')[_0x4cc158(0x1eb)](_0x581b9e);});const _0x19ca11=fs[_0x293f17(0x1ea)](_0x581b9e);return fs['unlinkSync'](_0x581b9e),fs[_0x293f17(0x1cd)](_0x244078),_0x19ca11;}async function writeExifImg(_0x704743,_0x1d5830){const _0x2705b2=_0x18a65e;let _0x3791d2=await imageToWebp(_0x704743);const _0x1906f9=path[_0x2705b2(0x1c4)](tmpdir(),Crypto[_0x2705b2(0x1ed)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x2705b2(0x1cc)),_0x3b4c53=path['join'](tmpdir(),Crypto[_0x2705b2(0x1ed)](0x6)['readUIntLE'](0x0,0x6)[_0x2705b2(0x1e1)](0x24)+_0x2705b2(0x1cc));fs[_0x2705b2(0x1d6)](_0x1906f9,_0x3791d2);if(_0x1d5830['packname']||_0x1d5830['author']){const _0xd56780=new webp[(_0x2705b2(0x1e8))](),_0x29a0e6={'sticker-pack-id':_0x2705b2(0x1d4),'sticker-pack-name':_0x1d5830[_0x2705b2(0x1da)],'sticker-pack-publisher':_0x1d5830[_0x2705b2(0x1dc)],'emojis':_0x1d5830[_0x2705b2(0x1e9)]?_0x1d5830[_0x2705b2(0x1e9)]:['']},_0x4df018=Buffer[_0x2705b2(0x1df)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0xb86d28=Buffer[_0x2705b2(0x1df)](JSON[_0x2705b2(0x1e3)](_0x29a0e6),_0x2705b2(0x1d3)),_0x472ed7=Buffer[_0x2705b2(0x1d2)]([_0x4df018,_0xb86d28]);return _0x472ed7[_0x2705b2(0x1d9)](_0xb86d28[_0x2705b2(0x1e7)],0xe,0x4),await _0xd56780[_0x2705b2(0x1d7)](_0x1906f9),fs[_0x2705b2(0x1cd)](_0x1906f9),_0xd56780[_0x2705b2(0x1e4)]=_0x472ed7,await _0xd56780['save'](_0x3b4c53),_0x3b4c53;}}async function writeExifVid(_0x4c12ec,_0x23acdb){const _0x53ce30=_0x18a65e;let _0x4566f7=await videoToWebp(_0x4c12ec);const _0x5907c9=path[_0x53ce30(0x1c4)](tmpdir(),Crypto[_0x53ce30(0x1ed)](0x6)['readUIntLE'](0x0,0x6)[_0x53ce30(0x1e1)](0x24)+_0x53ce30(0x1cc)),_0x4ef90a=path[_0x53ce30(0x1c4)](tmpdir(),Crypto[_0x53ce30(0x1ed)](0x6)[_0x53ce30(0x1cf)](0x0,0x6)['toString'](0x24)+_0x53ce30(0x1cc));fs[_0x53ce30(0x1d6)](_0x5907c9,_0x4566f7);if(_0x23acdb['packname']||_0x23acdb[_0x53ce30(0x1dc)]){const _0x2ca981=new webp[(_0x53ce30(0x1e8))](),_0x111211={'sticker-pack-id':'https://github.com/Neeraj-x0/x-asena','sticker-pack-name':_0x23acdb[_0x53ce30(0x1da)],'sticker-pack-publisher':_0x23acdb[_0x53ce30(0x1dc)],'emojis':_0x23acdb[_0x53ce30(0x1e9)]?_0x23acdb[_0x53ce30(0x1e9)]:['']},_0x2d2218=Buffer[_0x53ce30(0x1df)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x1c2c7f=Buffer['from'](JSON[_0x53ce30(0x1e3)](_0x111211),_0x53ce30(0x1d3)),_0x5bc2e3=Buffer[_0x53ce30(0x1d2)]([_0x2d2218,_0x1c2c7f]);return _0x5bc2e3['writeUIntLE'](_0x1c2c7f[_0x53ce30(0x1e7)],0xe,0x4),await _0x2ca981['load'](_0x5907c9),fs[_0x53ce30(0x1cd)](_0x5907c9),_0x2ca981[_0x53ce30(0x1e4)]=_0x5bc2e3,await _0x2ca981['save'](_0x4ef90a),_0x4ef90a;}}function _0x5722(_0x583010,_0x5c478f){const _0x574f8d=_0x574f();return _0x5722=function(_0x5722d7,_0x5a3485){_0x5722d7=_0x5722d7-0x1bd;let _0x5049c4=_0x574f8d[_0x5722d7];return _0x5049c4;},_0x5722(_0x583010,_0x5c478f);}function _0x574f(){const _0x2c27ec=['concat','utf-8','https://github.com/Neeraj-x0/x-asena','-preset','writeFileSync','load','fluent-ffmpeg','writeUIntLE','packname','15239QpclsS','author','92bPxFhr','-ss','from','crypto','toString','225hUxTjM','stringify','exif','libwebp','204946lDcTss','length','Image','categories','readFileSync','save','-an','randomBytes','addOutputOptions','default','90RRqXlh','13901604MQtEhl','-vf','11HTxbye','00:00:00','.mp4','join','48VPTpIE','9465TIvtWq','.jpg','426167vecROz','toFormat','64490iQVTAp','-vcodec','.webp','unlinkSync','-loop','readUIntLE','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','5181QBEKwL'];_0x574f=function(){return _0x2c27ec;};return _0x574f();}async function writeExifWebp(_0x21d30c,_0x28df34){const _0x511ec1=_0x18a65e,_0x4cec9c=path[_0x511ec1(0x1c4)](tmpdir(),Crypto[_0x511ec1(0x1ed)](0x6)['readUIntLE'](0x0,0x6)[_0x511ec1(0x1e1)](0x24)+_0x511ec1(0x1cc)),_0x230648=path[_0x511ec1(0x1c4)](tmpdir(),Crypto[_0x511ec1(0x1ed)](0x6)[_0x511ec1(0x1cf)](0x0,0x6)[_0x511ec1(0x1e1)](0x24)+_0x511ec1(0x1cc));fs['writeFileSync'](_0x4cec9c,_0x21d30c);if(_0x28df34['packname']||_0x28df34[_0x511ec1(0x1dc)]){const _0x182e45=new webp['Image'](),_0x39a02f={'sticker-pack-id':_0x511ec1(0x1d4),'sticker-pack-name':_0x28df34[_0x511ec1(0x1da)],'sticker-pack-publisher':_0x28df34['author'],'emojis':_0x28df34[_0x511ec1(0x1e9)]?_0x28df34[_0x511ec1(0x1e9)]:['']},_0x55a43f=await Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x2b8a80=await Buffer[_0x511ec1(0x1df)](JSON[_0x511ec1(0x1e3)](_0x39a02f),_0x511ec1(0x1d3)),_0xd6cdda=await Buffer[_0x511ec1(0x1d2)]([_0x55a43f,_0x2b8a80]);return await _0xd6cdda[_0x511ec1(0x1d9)](_0x2b8a80[_0x511ec1(0x1e7)],0xe,0x4),await _0x182e45[_0x511ec1(0x1d7)](_0x4cec9c),fs[_0x511ec1(0x1cd)](_0x4cec9c),_0x182e45[_0x511ec1(0x1e4)]=_0xd6cdda,await _0x182e45['save'](_0x230648),_0x230648;}}module['exports']={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp};